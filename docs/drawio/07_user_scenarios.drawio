<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2026-02-20" agent="Claude" version="24.0" type="device">
  <diagram id="user-scenarios" name="ìœ ì € ì‹œë‚˜ë¦¬ì˜¤ (Quest Route Map)">
    <mxGraphModel dx="1800" dy="1200" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2000" pageHeight="1400" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <mxCell id="title" value="&lt;b&gt;ìœ ì € ì‹œë‚˜ë¦¬ì˜¤ â€” ì¸í˜•ì˜ ì§‘ Quest Route Map&lt;/b&gt;&lt;br&gt;coraline_v3 scenario: 5 Endings (3 Victory + 2 Defeat)" style="text;html=1;align=center;fontSize=16;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="550" y="15" width="600" height="45" as="geometry"/>
        </mxCell>

        <!-- ========== GAME START ========== -->
        <mxCell id="game-start" value="&lt;b&gt;ê²Œìž„ ì‹œìž‘&lt;/b&gt;&lt;br&gt;í”Œë ˆì´ì–´: ì¸í˜•ì˜ ì§‘ì— ê°‡ížŒ ì†Œë…€&lt;br&gt;ì¸í˜• ê°€ì¡±ê³¼ í•¨ê»˜ íƒˆì¶œêµ¬ë¥¼ ì°¾ì•„ì•¼ í•œë‹¤&lt;br&gt;&lt;i&gt;Turn Limit: 50&lt;/i&gt;" style="shape=mxgraph.flowchart.terminator;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="680" y="80" width="340" height="70" as="geometry"/>
        </mxCell>

        <!-- NPC ì†Œê°œ -->
        <mxCell id="npcs-intro" value="&lt;div style='text-align:left;'&gt;&lt;b&gt;NPC ì¸í˜• ê°€ì¡±&lt;/b&gt;&lt;br&gt;ðŸ‘© ìƒˆì—„ë§ˆ (stepmother): fear=80, humanity=0&lt;br&gt;ðŸ‘¨ ìƒˆì•„ë¹  (stepfather): fear=60, humanity=20&lt;br&gt;ðŸ‘¦ ì˜¤ë¹  (brother): fear=40, humanity=50&lt;br&gt;ðŸ‘µ í• ë¨¸ë‹ˆ (grandmother): fear=50&lt;br&gt;ðŸ• ë°”ë¡  (dog_baron): fear=30&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;size=18;fillColor=#FFF8E1;strokeColor=#d6b656;fontSize=11;align=left;spacingLeft=8;" vertex="1" parent="1">
          <mxGeometry x="30" y="80" width="300" height="140" as="geometry"/>
        </mxCell>

        <!-- ========== KEY ACTIONS (í”Œë ˆì´ì–´ í–‰ë™ ì˜ì—­) ========== -->
        <mxCell id="actions-zone" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F5F5F5;strokeColor=#CCCCCC;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="280" y="200" width="1150" height="250" as="geometry"/>
        </mxCell>
        <mxCell id="actions-title" value="&lt;b&gt;í•µì‹¬ í”Œë ˆì´ì–´ í–‰ë™ (Day Phase)&lt;/b&gt;" style="text;html=1;align=center;fontSize=13;fontStyle=1;fillColor=none;strokeColor=none;fontColor=#666;" vertex="1" parent="1">
          <mxGeometry x="700" y="205" width="300" height="25" as="geometry"/>
        </mxCell>

        <mxCell id="act-explore" value="&lt;b&gt;íƒìƒ‰ (action)&lt;/b&gt;&lt;br&gt;ì§‘ ë‚´ë¶€ 7ê°œ ìž¥ì†Œ íƒìƒ‰&lt;br&gt;&lt;i&gt;player_room, hallway,&lt;br&gt;living_room, kitchen,&lt;br&gt;brother_room, basement,&lt;br&gt;garden&lt;/i&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="300" y="245" width="170" height="110" as="geometry"/>
        </mxCell>
        <mxCell id="act-talk" value="&lt;b&gt;ëŒ€í™” (interact)&lt;/b&gt;&lt;br&gt;NPCì™€ ìƒí˜¸ìž‘ìš©&lt;br&gt;&lt;i&gt;affection / fear ë³€í™”&lt;br&gt;Intent: LEADING,&lt;br&gt;EMPATHIC, NEUTRAL&lt;/i&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="510" y="245" width="160" height="110" as="geometry"/>
        </mxCell>
        <mxCell id="act-item" value="&lt;b&gt;ì•„ì´í…œ ì‚¬ìš© (use)&lt;/b&gt;&lt;br&gt;íšë“í•œ ì•„ì´í…œ í™œìš©&lt;br&gt;&lt;i&gt;old_key, matches,&lt;br&gt;sedative_herb,&lt;br&gt;brother_doll, ...&lt;/i&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="710" y="245" width="160" height="110" as="geometry"/>
        </mxCell>
        <mxCell id="act-lock" value="&lt;b&gt;ì •ë³´ í•´ì œ (Lock)&lt;/b&gt;&lt;br&gt;ì¡°ê±´ ì¶©ì¡± ì‹œ ìžë™ unlock&lt;br&gt;&lt;i&gt;quest_gate / item_hint&lt;br&gt;npc_topic / lore&lt;/i&gt;&lt;br&gt;â†’ NPC memoryì— inject" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="910" y="245" width="170" height="110" as="geometry"/>
        </mxCell>
        <mxCell id="act-night" value="&lt;b&gt;ë°¤ íŽ˜ì´ì¦ˆ (Night)&lt;/b&gt;&lt;br&gt;NPCë“¤ì˜ ìžìœ¨ í–‰ë™&lt;br&gt;&lt;i&gt;Reflection â†’ Planning&lt;br&gt;â†’ Dialogue&lt;br&gt;â†’ Impact Analysis&lt;/i&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1120" y="245" width="170" height="110" as="geometry"/>
        </mxCell>

        <mxCell id="a-start" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=2;" edge="1" parent="1" source="game-start" target="actions-zone">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- ========== ROUTE DIVERGENCE ========== -->
        <mxCell id="diverge" value="ì—”ë”© ë¶„ê¸°" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="780" y="500" width="140" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="a-div" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=2;" edge="1" parent="1" source="actions-zone" target="diverge">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- ========== VICTORY ROUTE 1: Stealth Exit ========== -->
        <mxCell id="v1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#2E7D32;arcSize=8;" vertex="1" parent="1">
          <mxGeometry x="30" y="640" width="350" height="350" as="geometry"/>
        </mxCell>
        <mxCell id="v1-title" value="&lt;b&gt;ðŸ† ìŠ¹ë¦¬ ë£¨íŠ¸ 1: ì€ë°€í•œ íƒˆì¶œ&lt;/b&gt;&lt;br&gt;&lt;i&gt;stealth_exit&lt;/i&gt;" style="text;html=1;align=center;fontSize=14;fontStyle=0;fillColor=none;strokeColor=none;fontColor=#2E7D32;" vertex="1" parent="1">
          <mxGeometry x="50" y="650" width="310" height="35" as="geometry"/>
        </mxCell>

        <mxCell id="v1-s1" value="1. ì§‘ íƒìƒ‰ â†’ old_key íšë“&lt;br&gt;&lt;i&gt;(auto acquire: basement íƒìƒ‰ ì¡°ê±´)&lt;/i&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="50" y="695" width="310" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="v1-s2" value="2. sedative_herb íšë“&lt;br&gt;&lt;i&gt;(garden íƒìƒ‰ + ì¡°ê±´ ì¶©ì¡±)&lt;/i&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="50" y="745" width="310" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="v1-s3" value="3. NPCì—ê²Œ ìˆ˜ë©´ì œ ì‚¬ìš© â†’ SLEEPING&lt;br&gt;&lt;i&gt;(StatusEffectManager: 3í„´ ì§€ì†)&lt;/i&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="50" y="795" width="310" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="v1-s4" value="4. old_keyë¡œ í˜„ê´€ë¬¸ ì—´ê¸°" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="50" y="845" width="310" height="35" as="geometry"/>
        </mxCell>

        <mxCell id="v1-cond" value="&lt;div style='text-align:left;'&gt;&lt;b&gt;ì—”ë”© ì¡°ê±´:&lt;/b&gt;&lt;br&gt;has_item(old_key)&lt;br&gt;AND flags.door_unlocked == true&lt;br&gt;AND npc.stepmother.status == SLEEPING&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=9;align=left;spacingLeft=8;" vertex="1" parent="1">
          <mxGeometry x="50" y="895" width="310" height="70" as="geometry"/>
        </mxCell>

        <!-- ========== VICTORY ROUTE 2: Chaotic Breakout ========== -->
        <mxCell id="v2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#2E7D32;arcSize=8;" vertex="1" parent="1">
          <mxGeometry x="420" y="640" width="350" height="350" as="geometry"/>
        </mxCell>
        <mxCell id="v2-title" value="&lt;b&gt;ðŸ† ìŠ¹ë¦¬ ë£¨íŠ¸ 2: í˜¼ëˆ ì† íƒˆì¶œ&lt;/b&gt;&lt;br&gt;&lt;i&gt;chaotic_breakout&lt;/i&gt;" style="text;html=1;align=center;fontSize=14;fontStyle=0;fillColor=none;strokeColor=none;fontColor=#2E7D32;" vertex="1" parent="1">
          <mxGeometry x="440" y="650" width="310" height="35" as="geometry"/>
        </mxCell>

        <mxCell id="v2-s1" value="1. matches íšë“&lt;br&gt;&lt;i&gt;(kitchen íƒìƒ‰ ì¡°ê±´)&lt;/i&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="440" y="695" width="310" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="v2-s2" value="2. ì§‘ì— ë¶ˆ ì§€ë¥´ê¸°&lt;br&gt;&lt;i&gt;use(matches, light_fire)&lt;br&gt;â†’ flags.house_on_fire = true&lt;/i&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="440" y="745" width="310" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="v2-s3" value="3. í˜¼ëž€ ì†ì—ì„œ íƒˆì¶œ&lt;br&gt;&lt;i&gt;NPCë“¤ì´ í˜¼ëž€ â†’ ê°ì‹œ ì•½í™”&lt;/i&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="440" y="810" width="310" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="v2-cond" value="&lt;div style='text-align:left;'&gt;&lt;b&gt;ì—”ë”© ì¡°ê±´:&lt;/b&gt;&lt;br&gt;has_item(matches)&lt;br&gt;AND flags.house_on_fire == true&lt;br&gt;AND flags.door_unlocked == true&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=9;align=left;spacingLeft=8;" vertex="1" parent="1">
          <mxGeometry x="440" y="870" width="310" height="70" as="geometry"/>
        </mxCell>

        <!-- ========== VICTORY ROUTE 3: Sibling Sacrifice ========== -->
        <mxCell id="v3-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#2E7D32;arcSize=8;" vertex="1" parent="1">
          <mxGeometry x="810" y="640" width="350" height="350" as="geometry"/>
        </mxCell>
        <mxCell id="v3-title" value="&lt;b&gt;ðŸ† ìŠ¹ë¦¬ ë£¨íŠ¸ 3: í˜•ì œì˜ í¬ìƒ&lt;/b&gt;&lt;br&gt;&lt;i&gt;sibling_sacrifice&lt;/i&gt;" style="text;html=1;align=center;fontSize=14;fontStyle=0;fillColor=none;strokeColor=none;fontColor=#2E7D32;" vertex="1" parent="1">
          <mxGeometry x="830" y="650" width="310" height="35" as="geometry"/>
        </mxCell>

        <mxCell id="v3-s1" value="1. ì˜¤ë¹ ì™€ ì§€ì†ì  êµê°&lt;br&gt;&lt;i&gt;interact(brother) â†’ affection â†‘&lt;/i&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="830" y="695" width="310" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="v3-s2" value="2. brother_doll íšë“&lt;br&gt;&lt;i&gt;(brother_room íƒìƒ‰ + affection ì¡°ê±´)&lt;/i&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="830" y="745" width="310" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="v3-s3" value="3. ì˜¤ë¹ ì˜ humanity ì¶©ë¶„ížˆ ìƒìŠ¹&lt;br&gt;&lt;i&gt;npc.brother.humanity &gt;= 80&lt;/i&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="830" y="800" width="310" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="v3-s4" value="4. ì˜¤ë¹ ê°€ ìŠ¤ìŠ¤ë¡œ ê°€ì¡±ì„ ë§‰ê³  íƒˆì¶œ ë„ì›€" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="830" y="855" width="310" height="35" as="geometry"/>
        </mxCell>

        <mxCell id="v3-cond" value="&lt;div style='text-align:left;'&gt;&lt;b&gt;ì—”ë”© ì¡°ê±´:&lt;/b&gt;&lt;br&gt;npc.brother.humanity &gt;= 80&lt;br&gt;AND has_item(brother_doll)&lt;br&gt;AND flags.brother_ally == true&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=9;align=left;spacingLeft=8;" vertex="1" parent="1">
          <mxGeometry x="830" y="900" width="310" height="70" as="geometry"/>
        </mxCell>

        <!-- ========== DEFEAT 1: Captured ========== -->
        <mxCell id="d1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#C62828;arcSize=8;" vertex="1" parent="1">
          <mxGeometry x="1220" y="640" width="350" height="260" as="geometry"/>
        </mxCell>
        <mxCell id="d1-title" value="&lt;b&gt;ðŸ’€ íŒ¨ë°° 1: ë¯¸ì™„ì„± ì¸í˜• (í¬íš)&lt;/b&gt;&lt;br&gt;&lt;i&gt;captured&lt;/i&gt;" style="text;html=1;align=center;fontSize=14;fontStyle=0;fillColor=none;strokeColor=none;fontColor=#C62828;" vertex="1" parent="1">
          <mxGeometry x="1240" y="650" width="310" height="35" as="geometry"/>
        </mxCell>

        <mxCell id="d1-s1" value="ìƒˆì—„ë§ˆì˜ ì˜ì‹¬ ì§€ì†ì  ìƒìŠ¹&lt;br&gt;&lt;i&gt;ë°˜í•­ì  í–‰ë™ â†’ fear ê°ì†Œ, affection ê°ì†Œ&lt;/i&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#C62828;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1240" y="695" width="310" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="d1-s2" value="ìƒˆì—„ë§ˆ Phase C(Punishment) ì§„ìž…&lt;br&gt;&lt;i&gt;affection &lt;= 20 or fear &gt;= 90&lt;/i&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#C62828;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1240" y="745" width="310" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="d1-s3" value="í”Œë ˆì´ì–´ í¬íš â†’ ì¸í˜•ìœ¼ë¡œ ë³€í™˜" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#C62828;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1240" y="800" width="310" height="35" as="geometry"/>
        </mxCell>

        <mxCell id="d1-cond" value="&lt;div style='text-align:left;'&gt;&lt;b&gt;ì—”ë”© ì¡°ê±´:&lt;/b&gt;&lt;br&gt;npc.stepmother.affection &lt;= 10&lt;br&gt;AND npc.stepmother.fear &gt;= 95&lt;br&gt;AND flags.caught == true&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#C62828;fontSize=9;align=left;spacingLeft=8;" vertex="1" parent="1">
          <mxGeometry x="1240" y="850" width="310" height="70" as="geometry"/>
        </mxCell>

        <!-- ========== DEFEAT 2: Turn Limit ========== -->
        <mxCell id="d2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#C62828;arcSize=8;" vertex="1" parent="1">
          <mxGeometry x="1220" y="940" width="350" height="200" as="geometry"/>
        </mxCell>
        <mxCell id="d2-title" value="&lt;b&gt;ðŸ’€ íŒ¨ë°° 2: ì˜ì›í•œ ì €ë…ì‹ì‚¬&lt;/b&gt;&lt;br&gt;&lt;i&gt;turn_limit (ì‹œê°„ ì´ˆê³¼)&lt;/i&gt;" style="text;html=1;align=center;fontSize=14;fontStyle=0;fillColor=none;strokeColor=none;fontColor=#C62828;" vertex="1" parent="1">
          <mxGeometry x="1240" y="950" width="310" height="35" as="geometry"/>
        </mxCell>

        <mxCell id="d2-s1" value="50í„´ ì•ˆì— ì–´ë–¤ ì—”ë”©ë„ ë‹¬ì„± ëª»í•¨&lt;br&gt;&lt;i&gt;íƒìƒ‰/í–‰ë™ì´ ë¹„íš¨ìœ¨ì &lt;/i&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#C62828;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1240" y="995" width="310" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="d2-s2" value="ì¸í˜• ê°€ì¡±ì˜ ì¼ì›ì´ ë˜ì–´&lt;br&gt;ì˜ì›ížˆ ì €ë…ì‹ì‚¬ë¥¼ í•¨ê»˜ í•¨" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#C62828;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1240" y="1050" width="310" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="d2-cond" value="&lt;div style='text-align:left;'&gt;&lt;b&gt;ì—”ë”© ì¡°ê±´:&lt;/b&gt;&lt;br&gt;system.turn == turn_limit (50)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#C62828;fontSize=9;align=left;spacingLeft=8;" vertex="1" parent="1">
          <mxGeometry x="1240" y="1100" width="310" height="35" as="geometry"/>
        </mxCell>

        <!-- Arrows from diverge to routes -->
        <mxCell id="a-v1" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=2;strokeColor=#2E7D32;" edge="1" parent="1" source="diverge" target="v1-box">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="a-v2" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=2;strokeColor=#2E7D32;" edge="1" parent="1" source="diverge" target="v2-box">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="a-v3" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=2;strokeColor=#2E7D32;" edge="1" parent="1" source="diverge" target="v3-box">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="a-d1" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=2;strokeColor=#C62828;" edge="1" parent="1" source="diverge" target="d1-box">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="a-d2" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=2;strokeColor=#C62828;dashed=1;" edge="1" parent="1" source="diverge" target="d2-box">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- ========== KEY ITEMS ========== -->
        <mxCell id="items-box" value="&lt;div style='text-align:left;'&gt;&lt;b&gt;í•µì‹¬ ì•„ì´í…œ ëª©ë¡&lt;/b&gt;&lt;br&gt;&lt;br&gt;ðŸ”‘ old_key â€” í˜„ê´€ë¬¸ ì—´ì‡  (basement)&lt;br&gt;ðŸ”¥ matches â€” ì„±ëƒ¥ (kitchen)&lt;br&gt;ðŸŒ¿ sedative_herb â€” ìˆ˜ë©´ ì•½ì´ˆ (garden)&lt;br&gt;ðŸª† brother_doll â€” ì˜¤ë¹ ì˜ ì¸í˜• (brother_room)&lt;br&gt;&lt;br&gt;&lt;b&gt;íšë“ ë°©ì‹:&lt;/b&gt;&lt;br&gt;â€¢ start: ê²Œìž„ ì‹œìž‘ ì‹œ ë³´ìœ &lt;br&gt;â€¢ auto: ì¡°ê±´ ì¶©ì¡± ì‹œ ìžë™ íšë“&lt;br&gt;â€¢ manual: LLM íŒë‹¨ìœ¼ë¡œ íšë“&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;size=18;fillColor=#FFF8E1;strokeColor=#d6b656;fontSize=11;align=left;spacingLeft=10;" vertex="1" parent="1">
          <mxGeometry x="30" y="1050" width="320" height="220" as="geometry"/>
        </mxCell>

        <!-- ========== GAME LOOP VISUAL ========== -->
        <mxCell id="loop-note" value="&lt;div style='text-align:center;'&gt;&lt;b&gt;ê²Œìž„ ë£¨í”„ êµ¬ì¡°&lt;/b&gt;&lt;br&gt;&lt;br&gt;[ Day Phase ] â†â†’ [ Night Phase ]&lt;br&gt;&lt;br&gt;Day: í”Œë ˆì´ì–´ í–‰ë™&lt;br&gt;(interact / action / use)&lt;br&gt;â†“&lt;br&gt;Night: NPC ìžìœ¨ í–‰ë™&lt;br&gt;(Reflection â†’ Planning&lt;br&gt;â†’ Dialogue â†’ Impact)&lt;br&gt;â†“&lt;br&gt;ë°˜ë³µ (ìµœëŒ€ 50í„´)&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;size=18;fillColor=#E3F2FD;strokeColor=#6c8ebf;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="420" y="1050" width="260" height="220" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
